---
title: "CQRS íŒ¨í„´(Command Query Responsibility Segregation) - ì½ê¸°ì™€ ì“°ê¸°ë¥¼ ë¶„ë¦¬í•´ì•¼ í•  ë•Œ"
datePublished: Mon Jul 28 2025 07:30:48 GMT+0000 (Coordinated Universal Time)
cuid: cmdmsgs8d000j02il943e877m
slug: cqrs-command-query-responsibility-segregation
tags: backend, cqrs, springboot

---

### ğŸ“ŒÂ  ì´ëŸ° ìƒí™©, ê²ªì–´ë³¸ ì  ìˆë‚˜ìš”?

* ì„œë¹„ìŠ¤ì˜ ì¡°íšŒ ìš”ì²­ì´ í­ì£¼í•´ì„œ ì½ê¸° ì„±ëŠ¥ì„ ë†’ì´ë ¤ê³  ìºì‹œë¥¼ ë„ì…í–ˆì§€ë§Œ,
    
    ì“°ê¸° ë¡œì§ê³¼ ì„ì—¬ ìˆì–´ì„œ ë°ì´í„° ì •í•©ì„± ê´€ë¦¬ê°€ í˜ë“¤ì–´ì§„ë‹¤.
    
* ë‹¨ìˆœ CRUD êµ¬ì¡°ë¡œ ì‹œì‘í–ˆëŠ”ë°, ë„ë©”ì¸ ë¡œì§ì´ ë³µì¡í•´ì§€ë©´ì„œ ì„œë¹„ìŠ¤ ì½”ë“œê°€ ì ì  ê±°ëŒ€í•´ì§„ë‹¤.
    
* ë³´ê³ ìš© ì¡°íšŒ API (ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ, í†µê³„ API) ë•Œë¬¸ì— ì—”í‹°í‹°ì™€ DTOê°€ ë‚œì¡í•´ì§€ê³ , ì“°ê¸° ë¡œì§ê³¼ ì „í˜€ ê´€ê³„ì—†ëŠ” SELECT ì¿¼ë¦¬ê°€ ì„ì¸ë‹¤.
    

â¡ï¸ ì´ëŸ° ë¬¸ì œë¥¼ ê¹”ë”í•˜ê²Œ ì •ë¦¬í•  ìˆ˜ ìˆëŠ” ì•„í‚¤í…ì²˜ íŒ¨í„´ì´ **CQRS**ì…ë‹ˆë‹¤.

---

### ğŸ’¡Â CQRSë€?

CQRSëŠ” *Command Query Responsibility Segregation*ì˜ ì•½ìì…ë‹ˆë‹¤.

**ëª…ë ¹(Command)** ê³¼ **ì¡°íšŒ(Query)** ì˜ ì±…ì„ì„ ë¶„ë¦¬í•˜ëŠ” ì•„í‚¤í…ì²˜ íŒ¨í„´ì…ë‹ˆë‹¤.

* **Command:** ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—… (Create, Update, Delete)
    
* **Query:** ë°ì´í„°ë¥¼ ì½ëŠ” ì‘ì—… (Read)
    

â¡ï¸Â **" ì½ê¸°ì™€ ì“°ê¸°ë¥¼ ê°™ì€ ëª¨ë¸ì—ì„œ ì²˜ë¦¬í•˜ì§€ ë§ê³ , ì•„ì˜ˆ ë¶„ë¦¬í•˜ì."**

---

### ğŸ”¥Â ì™œ êµ³ì´ ë¶„ë¦¬í• ê¹Œ?

* ì½ê¸°ì™€ ì“°ê¸°ëŠ” ì„±ê²©ì´ ì™„ì „íˆ ë‹¤ë¦…ë‹ˆë‹¤.
    
    * ì“°ê¸° â†’ íŠ¸ëœì­ì…˜ê³¼ ë°ì´í„° ë¬´ê²°ì„± ë³´ì¥
        
    * ì½ê¸° â†’ ë¹ ë¥¸ ì‘ë‹µê³¼ ë‹¤ì–‘í•œ ê²€ìƒ‰ ì¡°ê±´ì´ ì¤‘ìš”
        
* í•œ ëª¨ë¸ì—ì„œ ë‘˜ ë‹¤ ì²˜ë¦¬í•˜ë©´ ì½”ë“œê°€ ì ì  ë³µì¡í•´ì§€ê³ , DB ëª¨ë¸ë§ë„ ì œì•½ì„ ë§ì´ ë°›ìŠµë‹ˆë‹¤.
    

â¡ï¸Â  CQRSëŠ” ì´ ë‘˜ì„ ë‚˜ëˆ ì„œ ê°ê° ìµœì í™”í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.

---

### CQRS êµ¬ì¡°  

![CQRS íŒ¨í„´ì˜ ìƒìœ„ ìˆ˜ì¤€ ë³´ê¸°](https://docs.aws.amazon.com/ko_kr/prescriptive-guidance/latest/modernization-data-persistence/images/cqrs.png align="left")

* ì“°ê¸°(Command)ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ê³¼ íŠ¸ëœì­ì…˜ì— ì§‘ì¤‘
    
* ì½ê¸°(Query)ëŠ” ì‘ë‹µ ì†ë„ì™€ ì¡°íšŒ ì „ìš© ëª¨ë¸ì— ì§‘ì¤‘
    

---

### Spring Bootì—ì„œì˜ ì½”ë“œ ì˜ˆì‹œ

### CQRS ë¯¸ì ìš©

```java

@Service
class UserService {
    public void updateUser(User user) { ... }   // Command
    public User getUser(Long id) { ... }        // Query
}

```

### CQRS ì ìš©

```java

@Service
class UserCommandService {
    public void updateUser(UpdateUserCommand cmd) { ... }
}                                                     // ì‹¤ì œ DB ì“°ê¸°/ì´ë²¤íŠ¸ ë°œí–‰

@Service
class UserQueryService {
    public UserResponse getUser(Long id) { ... }
}                                                     // **ìºì‹œë‚˜ ì¡°íšŒ ì „ìš© DB ì‚¬ìš©** 

```

ì´ë ‡ê²Œ Commandì™€ Queryë¥¼ ì•„ì˜ˆ ë‹¤ë¥¸ ì„œë¹„ìŠ¤ë¡œ ë¶„ë¦¬í•˜ë©´ ì½”ë“œ ì±…ì„ì´ ëª…í™•í•´ì§.

---

### ì¥ì 

* **í™•ì¥ì„±:** ì½ê¸°/ì“°ê¸° ê°ê° ë…ë¦½ì ìœ¼ë¡œ í™•ì¥ ê°€ëŠ¥ (ì¡°íšŒë§Œ ìŠ¤ì¼€ì¼ ì•„ì›ƒ)
    
* **ì„±ëŠ¥ ìµœì í™”:** ì½ê¸°ëŠ” ì¡°íšŒ ì„±ëŠ¥ì´ ë†’ì€ NoSQL , ì“°ê¸°ëŠ” íŠ¸ëœì­ì…˜ ì§€ì›ë˜ëŠ” RDB
    
* **ìœ ì§€ë³´ìˆ˜ì„±:** ì½”ë“œê°€ ê¹”ë”í•´ì§€ê³  ì±…ì„ì´ ë¶„ëª…í•´ì§
    

---

### ë‹¨ì 

* **êµ¬ì¡°ê°€ ë³µì¡í•´ì§:** ì‘ì€ í”„ë¡œì íŠ¸ì—ì„œëŠ” ì˜¤ë²„ì—”ì§€ë‹ˆì–´ë§
    
* **ë™ê¸°í™” ë¬¸ì œ:** Command DBì™€ Query DBê°€ ë‹¤ë¥´ë©´ ì¼ê´€ì„± ê´€ë¦¬ í•„ìš”
    
* **í•™ìŠµ ê³¡ì„ :** íŒ€ ì „ì²´ê°€ íŒ¨í„´ì„ ì´í•´í•˜ê³  í•©ì˜í•´ì•¼ í•¨
    

---

### ì–¸ì œ ì“°ë©´ ì¢‹ì€ê°€?

* ì¡°íšŒ íŠ¸ë˜í”½ì´ ì“°ê¸°ë³´ë‹¤ í›¨ì”¬ ë§ì„ ë•Œ (SNS í”¼ë“œ, í†µê³„ ì„œë¹„ìŠ¤ ë“±)
    
* ë„ë©”ì¸ ë¡œì§ì´ ë³µì¡í•´ì„œ ì½ê¸°/ì“°ê¸° ëª¨ë¸ì„ ë³„ë„ë¡œ ì„¤ê³„í•´ì•¼ í•  ë•Œ
    
* Event Sourcingê³¼ ê²°í•©í•´ì„œ ê°ì‚¬ ë¡œê·¸(Audit Log)ë¥¼ ë‚¨ê²¨ì•¼ í•  ë•Œ
    

---

### ê²°ë¡ 

> CQRSëŠ” ë‹¨ìˆœ CRUD êµ¬ì¡°ì—ì„œ ë²—ì–´ë‚˜, ì½ê¸°ì™€ ì“°ê¸°ë¥¼ ë¶„ë¦¬í•´ í™•ì¥ì„±ê³¼ ì„±ëŠ¥ì„ ë†’ì´ëŠ” ì•„í‚¤í…ì²˜ íŒ¨í„´ì…ë‹ˆë‹¤.
> 
> íŠ¹íˆ ëŒ€ê·œëª¨ íŠ¸ë˜í”½, ë³µì¡í•œ ë„ë©”ì¸ ë¡œì§, DDD í™˜ê²½ì—ì„œ ê°•ë ¥í•œ íš¨ê³¼ë¥¼ ë°œíœ˜í•©ë‹ˆë‹¤.
> 
> ë‹¤ë§Œ CQRSëŠ” ëª¨ë¸ì´ ë‘ ê°œë¡œ ë‚˜ë‰˜ê³ , ì¡°íšŒ ì „ìš© ëª¨ë¸ ì„¤ê³„ê°€ í•„ìš”í•˜ê¸° ë•Œë¬¸ì— ì‘ì€ í”„ë¡œì íŠ¸ì—ì„œëŠ” ì˜¤íˆë ¤ êµ¬í˜„ ë¹„ìš©ì´ ë” ì»¤ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> 
> ë‹¨ì¼ ëª¨ë¸ì˜ ë³µì¡ì„±ê³¼ CQRSì˜ êµ¬í˜„ ë³µì¡ì„±ì„ ë¹„êµí•´ ì‹ ì¤‘í•˜ê²Œ ë„ì…í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.

ì¶œì²˜ : [https://docs.aws.amazon.com/ko\_kr/prescriptive-guidance/latest/modernization-data-persistence/cqrs-pattern.html](https://docs.aws.amazon.com/ko_kr/prescriptive-guidance/latest/modernization-data-persistence/cqrs-pattern.html)